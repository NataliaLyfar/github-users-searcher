"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[391],{4391:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r,i,o=t(168),a=t(1413),u=t(9439),s=t(2791),l=t(5485),c=t(3122),d=t(4994),h=t(7309),f=t(8686),g=t(9603),x=t(4632),p=t(1087),m=t(6444),v=t(184),j=l.Z.Title,Z=function(){var e=(0,s.useState)((function(){return JSON.parse(localStorage.getItem("favorites")||"[]")})),n=(0,u.Z)(e,2),t=n[0],r=n[1],i=[{title:"avatar",dataIndex:"avatar",key:"avatar",render:function(e){return(0,v.jsx)(c.Z,{src:e,alt:"user avatar",width:44})}},{title:"User",dataIndex:"userLogin",key:"userLogin",render:function(e){return(0,v.jsx)(p.rU,{to:"/users/".concat(e),children:(0,v.jsx)(l.Z.Text,{copyable:!0,children:e})})},sorter:function(e,n){return e.login.length-n.login.length}},{title:"Repo url",dataIndex:"reposUrl",key:"reposUrl",responsive:["md"],render:function(e){return(0,v.jsx)(l.Z.Link,{href:e,target:"_blank",rel:"noreferrer",children:e})}},{title:"operation",dataIndex:"operation",render:function(e,n){return t.length>=1?(0,v.jsx)(d.Z,{title:"Sure to delete?",onConfirm:function(){return o(n.userLogin)},children:(0,v.jsx)(h.Z,{type:"link",children:"Delete"})}):null}}],o=function(e){var n=t.filter((function(n){return n.userLogin!==e}));r(n),localStorage.setItem("favorites",JSON.stringify(n))};return(0,v.jsx)(v.Fragment,{children:t.length>0&&(0,v.jsxs)(b,{children:[(0,v.jsx)(j,{level:2,children:"Favorite Github users"}),(0,v.jsx)(f.Z,{children:(0,v.jsx)(g.Z,{xs:24,children:(0,v.jsx)(x.Z,{dataSource:null===t||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e.userLogin})})),columns:i,pagination:{defaultPageSize:"10",showSizeChanger:!0,pageSizeOptions:[5,10,15,30],position:["topLeft","bottomRight"]}})})})]})})},b=m.ZP.div(r||(r=(0,o.Z)(["\n  margin-top: ","px;\n"])),(function(e){return e.theme.space[5]})),k=t(5048),y=function(e){return e.search.value},S=t(4590),L=t(3628),w=function(){var e=(0,k.v9)(y),n=(0,k.I0)();return(0,v.jsx)(I,{minLength:2,debounceTimeout:300,name:"search",value:e,onChange:function(e){return n((0,S.r)(e.target.value.trim()))},placeholder:"input to search Github users"})},I=(0,m.ZP)(L.DebounceInput)(i||(i=(0,o.Z)(["\n  width: 338px;\n  border-radius: ",";\n  margin-bottom: ","px;\n  outline: none;\n  font-feature-settings: 'tnum', 'tnum';\n  background-color: ",";\n  border: "," ",";\n  color: ",";\n  font-size: ",";\n  font-variant: tabular-nums;\n  line-height: ",";\n  padding: ","px ","px;\n  transition: all 0.3s;\n  &:hover,\n  &:focus,\n  &:active {\n    border-color: ",";\n    border-right-width: 1px;\n    box-shadow: 0 0 0 2px rgb(24 144 255 / 20%);\n    outline: 0;\n  }\n"])),(function(e){return e.theme.radii.normal}),(function(e){return e.theme.space[3]}),(function(e){return e.theme.colors.white}),(function(e){return e.theme.borders.normal}),(function(e){return e.theme.colors.shade}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.fontSizes.s}),(function(e){return e.theme.lineHeights.body}),(function(e){return e.theme.space[0]}),(function(e){return e.theme.space[2]}),(function(e){return e.theme.colors.hover})),U=t(409),z=t(7689),F=t(3099),_=t(9421),C=t(7440),P=t(6067),O=t(3515),T=function(){var e=(0,s.useState)(!0),n=(0,u.Z)(e,2),t=n[0],r=n[1],i=(0,k.v9)(y),o=(0,s.useState)(1),d=(0,u.Z)(o,2),m=d[0],j=d[1],Z=(0,z.TH)();(0,s.useEffect)((function(){i.length>0&&r(!1)}),[i]);var b=(0,U.Qe)("q=".concat(i,"&page=").concat(m),{skip:t,selectFromResult:function(e){var n=e.data,t=e.isLoading,r=e.isFetching,i=e.isError;return{partialUsers:null===n||void 0===n?void 0:n.partialUsers,totalPages:null===n||void 0===n?void 0:n.totalPages,isLoading:t,isFetching:r,error:i}}}),S=b.isLoading,L=b.isFetching,w=b.error,I=b.partialUsers,T=b.totalPages,R=[{title:"avatar",dataIndex:"avatar_url",key:"avatar_url",render:function(e){return(0,v.jsx)(c.Z,{src:e,alt:"user avatar",width:44})}},{title:"User",dataIndex:"login",key:"login",render:function(e){return(0,v.jsx)(p.rU,{to:"/users/".concat(e),state:{from:Z},children:(0,v.jsx)(l.Z.Text,{copyable:!0,children:e})})},sorter:function(e,n){return e.login.length-n.login.length}},{title:"Type",dataIndex:"type",key:"type",filters:[{text:"User",value:"User"},{text:"Organization",value:"Organization"}],onFilter:function(e,n){return n.type.includes(e)},responsive:["md"]},{title:"Repo url",dataIndex:"html_url",key:"html_url",responsive:["md"],render:function(e){return(0,v.jsx)(l.Z.Link,{href:e,target:"_blank",rel:"noreferrer",children:e})}}];return(0,v.jsx)(v.Fragment,{children:S||L?(0,v.jsx)(O.xu,{children:(0,v.jsx)(O.$j,{})}):(null===I||void 0===I?void 0:I.length)>0?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.Z,{children:(0,v.jsx)(g.Z,{xs:24,children:(0,v.jsx)(x.Z,{dataSource:null===I||void 0===I?void 0:I.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e.id})})),columns:R,pagination:{defaultPageSize:"10",showSizeChanger:!0,pageSizeOptions:[5,10,15,30],position:["topLeft","bottomRight"]}})})}),(null===I||void 0===I?void 0:I.length)>10&&(0,v.jsxs)(F.Z,{children:[(0,v.jsx)(h.Z,{onClick:function(){return j((function(e){return e-1}))},disabled:1===m,icon:(0,v.jsx)(C.Z,{})}),(0,v.jsx)(h.Z,{onClick:function(){return j((function(e){return e+1}))},disabled:m===T,icon:(0,v.jsx)(P.Z,{})})]})]}):i.length>0&&0===(null===I||void 0===I?void 0:I.length)||w?(0,v.jsx)(_.Z,{}):null})},R=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(w,{}),(0,v.jsx)(T,{}),(0,v.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=391.558d27cb.chunk.js.map
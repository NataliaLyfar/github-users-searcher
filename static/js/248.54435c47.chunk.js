"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[248],{5248:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r,i,a=t(168),o=t(1413),l=t(9439),s=t(2791),u=t(5485),c=t(3122),d=t(4994),h=t(7309),g=t(8686),x=t(9603),f=t(266),p=t(1087),v=t(6444),j=t(184),m=u.Z.Title,Z=function(){var e=(0,s.useState)((function(){return JSON.parse(localStorage.getItem("favorites")||"[]")})),n=(0,l.Z)(e,2),t=n[0],r=n[1],i=[{title:"avatar",dataIndex:"avatar",key:"avatar",render:function(e){return(0,j.jsx)(c.Z,{src:e,alt:"user avatar",width:44})}},{title:"User",dataIndex:"userLogin",key:"userLogin",render:function(e){return(0,j.jsx)(p.rU,{to:"/users/".concat(e),children:(0,j.jsx)(u.Z.Text,{copyable:!0,children:e})})},sorter:function(e,n){return e.login.length-n.login.length}},{title:"Repo url",dataIndex:"reposUrl",key:"reposUrl",responsive:["md"],render:function(e){return(0,j.jsx)(u.Z.Link,{href:e,target:"_blank",rel:"noreferrer",children:e})}},{title:"operation",dataIndex:"operation",render:function(e,n){return t.length>=1?(0,j.jsx)(d.Z,{title:"Sure to delete?",onConfirm:function(){return a(n.userLogin)},children:(0,j.jsx)(h.Z,{type:"link",children:"Delete"})}):null}}],a=function(e){var n=t.filter((function(n){return n.userLogin!==e}));r(n),localStorage.setItem("favorites",JSON.stringify(n))};return(0,j.jsx)(j.Fragment,{children:t.length>0&&(0,j.jsxs)(k,{children:[(0,j.jsx)(m,{level:2,children:"Favorite Github users"}),(0,j.jsx)(g.Z,{children:(0,j.jsx)(x.Z,{xs:24,children:(0,j.jsx)(f.Z,{dataSource:null===t||void 0===t?void 0:t.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{key:e.userLogin})})),columns:i,pagination:{defaultPageSize:"10",showSizeChanger:!0,pageSizeOptions:[5,10,15,30],position:["topLeft","bottomRight"]}})})})]})})},k=v.ZP.div(r||(r=(0,a.Z)(["\n  margin-top: ","px;\n"])),(function(e){return e.theme.space[5]})),y=t(5048),S=function(e){return e.search.value},b=t(4590),L=t(9389),I=function(){var e=(0,y.v9)(S),n=(0,y.I0)();return(0,j.jsx)(U,{name:"search",value:e,onChange:function(e){return n((0,b.r)(e.target.value.trim()))},placeholder:"input to search Github users"})},U=(0,v.ZP)(L.Z)(i||(i=(0,a.Z)(["\n  max-width: 338px;\n  border-radius: ",";\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.radii.normal}),(function(e){return e.theme.space[3]})),F=t(409),_=[{title:"avatar",dataIndex:"avatar_url",key:"avatar_url",render:function(e){return(0,j.jsx)(c.Z,{src:e,alt:"user avatar",width:44})}},{title:"User",dataIndex:"login",key:"login",render:function(e){return(0,j.jsx)(p.rU,{to:"/users/".concat(e),children:(0,j.jsx)(u.Z.Text,{copyable:!0,children:e})})},sorter:function(e,n){return e.login.length-n.login.length}},{title:"Type",dataIndex:"type",key:"type",filters:[{text:"User",value:"User"},{text:"Organization",value:"Organization"}],onFilter:function(e,n){return n.type.includes(e)},responsive:["md"]},{title:"Repo url",dataIndex:"html_url",key:"html_url",responsive:["md"],render:function(e){return(0,j.jsx)(u.Z.Link,{href:e,target:"_blank",rel:"noreferrer",children:e})}}],w=t(3099),z=t(9421),C=t(7440),P=t(6067),O=t(3515),R=function(){var e=(0,s.useState)(!0),n=(0,l.Z)(e,2),t=n[0],r=n[1],i=(0,y.v9)(S),a=(0,s.useState)(1),u=(0,l.Z)(a,2),c=u[0],d=u[1];(0,s.useEffect)((function(){i.length>0&&r(!1)}),[i]);var p=(0,F.Qe)("q=".concat(i,"&page=").concat(c),{skip:t,selectFromResult:function(e){var n=e.data,t=e.isLoading,r=e.isFetching,i=e.isError;return{partialUsers:null===n||void 0===n?void 0:n.partialUsers,totalPages:null===n||void 0===n?void 0:n.totalPages,isLoading:t,isFetching:r,error:i}}}),v=p.isLoading,m=p.isFetching,Z=p.error,k=p.partialUsers,b=p.totalPages;return(0,j.jsx)(j.Fragment,{children:v||m?(0,j.jsx)(O.xu,{children:(0,j.jsx)(O.$j,{})}):(null===k||void 0===k?void 0:k.length)>0?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g.Z,{children:(0,j.jsx)(x.Z,{xs:24,children:(0,j.jsx)(f.Z,{dataSource:null===k||void 0===k?void 0:k.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{key:e.id})})),columns:_,pagination:{defaultPageSize:"10",showSizeChanger:!0,pageSizeOptions:[5,10,15,30],position:["topLeft","bottomRight"]}})})}),(null===k||void 0===k?void 0:k.length)>10&&(0,j.jsxs)(w.Z,{children:[(0,j.jsx)(h.Z,{onClick:function(){return d((function(e){return e-1}))},disabled:1===c,icon:(0,j.jsx)(C.Z,{})}),(0,j.jsx)(h.Z,{onClick:function(){return d((function(e){return e+1}))},disabled:c===b,icon:(0,j.jsx)(P.Z,{})})]})]}):i.length>0&&0===(null===k||void 0===k?void 0:k.length)||Z?(0,j.jsx)(z.Z,{}):null})},T=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(I,{}),(0,j.jsx)(R,{}),(0,j.jsx)(Z,{})]})}}}]);
//# sourceMappingURL=248.54435c47.chunk.js.map